(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8908],{89875:function(e,t,n){"use strict";let i;n.d(t,{f:function(){return i}}),function(e){e.All="*",e.Play="play",e.Sound="sound"}(i||(i={}))},83616:function(e,t,n){"use strict";n.d(t,{b:function(){return i.b},Z:function(){return o.Z}});var i=n(97874),o=n(36816)},97874:function(e,t,n){"use strict";n.d(t,{b:function(){return v}});var i=n(78273),o=n.n(i),l=n(61246),a=n(89875),r=n(70112),s=n(89234),d=n(36816),c=n(94565),u=n.n(c),m=n(83605);const v=({title:e,movieLink:t,caption:n,ratingSlot:i,logoUrl:c,cast:v,afishaLink:p,stopUrl:f="",trailerId:y,className:k,isSmall:b,role:_,onTitleContentMouseEnter:h,onTitleContentMouseLeave:j,onTicketClick:N,onTitleClick:O,onTrailerClick:g,onMount:S,renderCustomLink:P,loadSkin:C})=>{(0,r.LI)((()=>S&&S()),[]);const T=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:u().ratings,children:i}),(0,m.jsxs)("div",{className:o()(u().trailer,{[u().trailerSmall]:b}),onClick:g,children:[(0,m.jsx)("div",{className:u().video,children:(0,m.jsx)(l.L,{trailerId:y,previewUrl:f,hiddenType:a.f.All,className:u().player,noAd:!0,muted:!0,loop:!0,loadSkin:C,"aria-hidden":!0})}),(0,m.jsx)("div",{className:u().gradient}),(0,m.jsxs)("div",{className:o()(u().content,{[u().contentSmall]:b}),children:[(0,m.jsx)("div",{className:u().logoWrapper,children:(0,m.jsx)(s.E,{x1:c,className:u().logo})}),(0,m.jsx)("div",{className:o()(u().cast,{[u().castSmall]:b}),children:v})]})]}),(0,m.jsx)("div",{className:o()(u().title,{[u().titleSmall]:b}),onClick:O,children:(0,m.jsx)("span",{onMouseEnter:h,onMouseLeave:j,children:e})}),(0,m.jsx)("div",{className:u().caption,children:n})]});return(0,m.jsxs)("div",{className:o()(u().root,{[u().rootSmall]:b},k),role:_,"data-tid":"509257b3",children:[(0,m.jsx)(d.Z,{link:p,className:o()(u().ticketsButton,{[u().ticketsButtonSmall]:b}),onClick:N}),P?P({className:u().link,href:t,children:T}):(0,m.jsx)("a",{className:u().link,href:t,children:T})]})}},36816:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(78273),o=n.n(i),l=n(55930),a=n(30099),r=n(85223),s=n.n(r),d=n(83605);const c=({link:e,caption:t=a.F.movieVideoSnippetTicketsCaption,className:n,onClick:i,size:r=l.P.M})=>(0,d.jsxs)("a",{className:o()(s().root,n,{[s().textLarge]:r===l.P.L}),href:e,onClick:i,target:"_blank",rel:"noopener noreferrer","data-tid":"aae3a66c",children:[(0,d.jsx)("span",{className:o()(s().icon,{[s().iconLarge]:r===l.P.L})}),(0,d.jsx)("span",{children:t})]})},61246:function(e,t,n){"use strict";n.d(t,{L:function(){return c}});var i=n(37667),o=n(78273),l=n.n(o),a=n(9098),r=n(49104),s=n.n(r),d=n(83605);const c=({className:e,previewUrl:t,trailerId:n,autoplay:o,hiddenType:r,loop:c,muted:u,noAd:m,loadSkin:v,objectFitStyle:p,"aria-hidden":f})=>{const{0:y,1:k}=(0,i.useState)(!1),b=(0,i.useCallback)((()=>k(!0)),[]);return(0,d.jsxs)("div",{className:l()(s().root,e),"aria-hidden":f,"data-tid":"54d46840",children:[(0,d.jsx)("div",{className:l()(s().previewUrl,{[s().previewUrlIsReady]:y}),style:{backgroundImage:t?`url(${t})`:"none"}}),n&&(0,d.jsx)(a.Y,{trailerId:n,autoplay:o,hiddenType:r,loop:c,muted:u,noAd:m,loadSkin:v,playing:y,onReady:b,className:s().video,objectFitStyle:p})]})}},9098:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var i=n(37667),o=n(48576),l=n.n(o),a=n(5099),r=n.n(a);let s;!function(e){e.OnReady="onReady",e.OnContentImpression="onContentImpression"}(s||(s={}));var d=n(83605);const c=({noAd:e,muted:t,loop:n,hiddenType:o,autoplay:a,trailerId:c,playing:u,loadSkin:m,onReady:v,className:p,objectFitStyle:f,"aria-hidden":y})=>{const{0:k,1:b}=(0,i.useState)("");(0,i.useEffect)((()=>b(l()())),[]);const _=function({embedId:e,autoplay:t,hiddenType:n,loop:o,muted:l,noAd:a,trailerId:s,loadSkin:d,objectFitStyle:c}){const{0:u,1:m}=(0,i.useState)(null),v=(0,i.useCallback)((({discovery:i})=>m(i.initEmbedPlayer({embedId:e,trailerId:s,noAd:a,hidden:n,muted:l,autoplay:t,loop:o,loadSkin:d,objectFitStyle:c}))),[e,s,a,n,l,t,o,d,c]);return(0,i.useEffect)((()=>e?(window.discoveryTrailersAsyncCallbacks=window.discoveryTrailersAsyncCallbacks||[],window.discoveryTrailersAsyncCallbacks.push(v),()=>{u&&(u.destroy(),m(null)),window.discoveryTrailersAsyncCallbacks&&window.discoveryTrailersAsyncCallbacks.filter&&(window.discoveryTrailersAsyncCallbacks=window.discoveryTrailersAsyncCallbacks.filter((e=>e!==v)))}):r()),[s,e,a,n,l,t,o]),u}({embedId:k,autoplay:a,hiddenType:o,loop:n,muted:t,noAd:e,trailerId:c,loadSkin:m,objectFitStyle:f});return(0,i.useEffect)((()=>{_&&(u&&_.play(),!1===u&&_.pause())}),[_,u]),(0,i.useEffect)((()=>_&&v?(_.on(s.OnContentImpression,v),()=>_.off(s.OnContentImpression,v)):r()),[_,v]),(0,d.jsx)("div",{id:k,className:p,"aria-hidden":y,"data-tid":"6596c02d"})}},19640:function(e,t,n){"use strict";n.d(t,{H:function(){return m}});n(37667);var i=n(78273),o=n.n(i),l=n(51256),a=n(88249),r=n(68322),s=n(87574),d=n(89271),c=n.n(d),u=n(83605);const m=({isPlannedToWatch:e,onClick:t,isOnlyIcon:n,colorScheme:i,availabilityAnnounceBrandingEnabled:d,size:m=l.q.size52,className:v})=>(0,u.jsx)("div",{className:o()(c().root,v),"data-tid":"be0d3e42",children:(0,u.jsx)(a.z,{onClick:t,colorScheme:i,buttonType:d?l.L.AccentWhite:l.L.Primary,size:m,iconLeft:(0,u.jsx)("span",{className:o()(c().icon,{[c().iconLight]:i===r.u.Light||d,[c().iconDark]:i===r.u.Dark&&!d,[c().isActive]:e})}),title:s.Z.plannedToWatch,children:!n&&s.Z.plannedToWatch})})},28908:function(e,t,n){"use strict";n.r(t),n.d(t,{TrailerPromoWithAnalytics:function(){return te}});var i=n(37667),o=n(25724),l=n(25175),a=n(83253),r=n(18263),s=n(72310),d=n(1681),c=n(72095),u=n(78273),m=n.n(u),v=n(65697),p=n(61540),f=n(61246),y=n(89875),k=n(50596),b=n(67236),_=n(87832),h=n(4591),j=n(36007),N=n(83616),O=n(68322);let g;!function(e){e.Online="online",e.Cinema="cinema"}(g||(g={}));var S=n(19640),P=n(50874),C=n.n(P),T=n(83605);const I=({isPlannedToWatch:e,buttonType:t,buttonText:n,watchUrl:i,onToWatchButtonClick:o,onWatchOnlineClick:l,onTicketsCinemaClick:a,afishaUrl:r})=>(0,T.jsxs)("div",{className:C().root,"data-tid":"68ec4e5b",children:[t===g.Online&&(0,T.jsx)(h.WatchOnlineButton,{onClick:l,url:i,size:h.WatchOnlineButtonSizes.h40,text:n,colorSchema:h.WATCH_ONLINE_BUTTON_COLOR_SCHEMAS.orange,className:C().customButton}),t===g.Cinema&&(0,T.jsx)(N.Z,{onClick:a,link:r,caption:n,className:m()(C().customButton,C().ticketsButton),size:j.ButtonSizes.L}),(0,T.jsx)(S.H,{onClick:o,isPlannedToWatch:e,colorScheme:O.u.Dark,isOnlyIcon:!0})]});var x="\u0412 \u0433\u043b\u0430\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u044f\u0445:",w="\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440:",A=n(28570);const D=e=>{var t;const n=null===(t=e.split("/").pop())||void 0===t?void 0:t.split("x");if(n){const[e,t]=n;if(Number(e)/Number(t)<1.8)return!0}return!1};var F=n(63880),L=n.n(F);const{hdHost:W}=(0,v.default)().publicRuntimeConfig,U=({className:e="",filmId:t,contentId:n,logoUrl:o,description:l,cast:a,directors:r,subtitle:s,disclaimer:d,trailerId:c,stopUrl:u,isPlannedToWatch:v,buttonType:j,buttonText:N,setElementRef:O,onToWatchButtonClick:g,onLogoClick:S,onWatchOnlineClick:P,onTicketsCinemaClick:C})=>{const F=(0,h.getHdWatchUrl)(W,n,{fromBlock:A.AO}),{0:U,1:E}=(0,i.useMemo)((()=>[t?k._.getUrl(b.f.FilmPage,{id:t},{from_block:A.AO}):"",t?k._.getUrl(_.s.BuyTicket,{filmId:t}):""]),[t]);return(0,T.jsx)("div",{className:e,ref:O,"data-tid":"a1b6b16",children:(0,T.jsxs)("div",{className:L().root,children:[(0,T.jsx)(f.L,{trailerId:c,previewUrl:u,hiddenType:y.f.All,className:L().player,noAd:!0,muted:!0,loop:!0,loadSkin:!1,objectFitStyle:"cover","aria-hidden":!0}),(0,T.jsx)("div",{className:L().gradient}),(0,T.jsxs)("div",{className:L().content,children:[(0,T.jsx)("a",{href:U,onClick:S,children:(0,T.jsx)(p.E,{x1:o,className:m()(L().logo,{[L().quadLogo]:D(o)})})}),l&&(0,T.jsx)("div",{className:L().description,children:l}),a&&(0,T.jsxs)("div",{className:L().cast,children:[(0,T.jsx)("span",{className:L().castTitle,children:x}),a]}),r&&(0,T.jsxs)("div",{className:L().directors,children:[(0,T.jsx)("span",{className:L().directorsTitle,children:w}),r]}),s&&(0,T.jsx)("div",{className:L().subtitle,children:s}),d&&(0,T.jsx)("div",{className:L().disclaimer,children:d}),(0,T.jsx)("div",{className:L().buttons,children:(0,T.jsx)(I,{watchUrl:F,afishaUrl:E,isPlannedToWatch:v,buttonType:j,buttonText:N,onToWatchButtonClick:g,onWatchOnlineClick:P,onTicketsCinemaClick:C})})]})]})})};var E=n(97139),B=n(83507);const M=E.w.w800h124,R=e=>{var t,n,i,o,l,a,r,s,d,c,u,m,v,p,f,y;return[{buttonText:null!==e&&void 0!==e&&null!==(t=e.button)&&void 0!==t&&t.text?e.button.text:"",buttonType:null!==e&&void 0!==e&&null!==(n=e.button)&&void 0!==n&&n.type?e.button.type:"",cast:null!==e&&void 0!==e&&null!==(i=e.trailerPromoInfo)&&void 0!==i&&i.cast?e.trailerPromoInfo.cast:"",description:null!==e&&void 0!==e&&null!==(o=e.trailerPromoInfo)&&void 0!==o&&o.description?e.trailerPromoInfo.description:"",directors:null!==e&&void 0!==e&&null!==(l=e.trailerPromoInfo)&&void 0!==l&&l.directors?e.trailerPromoInfo.directors:"",disclaimer:null!==e&&void 0!==e&&null!==(a=e.trailerPromoInfo)&&void 0!==a&&a.disclaimer?e.trailerPromoInfo.disclaimer:"",logoUrl:null!==e&&void 0!==e&&null!==(r=e.trailerPromoInfo)&&void 0!==r&&null!==(s=r.logoImage)&&void 0!==s&&s.avatarsUrl?`${e.trailerPromoInfo.logoImage.avatarsUrl}/${M}`:"",stopUrl:null!==e&&void 0!==e&&null!==(d=e.trailerPromoInfo)&&void 0!==d&&null!==(c=d.screenshotImage)&&void 0!==c&&c.avatarsUrl?`${e.trailerPromoInfo.screenshotImage.avatarsUrl}/${A.EB.x1}`:"",subtitle:null!==e&&void 0!==e&&null!==(u=e.trailerPromoInfo)&&void 0!==u&&u.subtitle?e.trailerPromoInfo.subtitle:"",filmId:null!==e&&void 0!==e&&null!==(m=e.movie)&&void 0!==m&&m.id?e.movie.id:0,contentId:(null===e||void 0===e||null===(v=e.movie)||void 0===v?void 0:v.contentId)||void 0,trailerId:null!==e&&void 0!==e&&null!==(p=e.trailer)&&void 0!==p&&p.id?e.trailer.id:0,enabled:!(null===e||void 0===e||!e.enabled)},(0,B.w)((null===e||void 0===e||null===(f=e.movie)||void 0===f||null===(y=f.userData)||void 0===y?void 0:y.folders)||[])]};var Z=n(76085),V=n(94855),z=n(81777),Y=n(41806),H=n(98759);const G=["className","onAddFilmToWatch"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=n(58140);const q=["className","onAddFilmToWatch"];function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ee=(0,r.I)({AuthorizedComponent:e=>{var t,n,i,o,l;let{className:a,onAddFilmToWatch:r}=e,s=(0,d.Z)(e,G);const{data:u,error:m,loading:v}=(0,V.Y)(!0),p=null===u||void 0===u||null===(t=u.webPage)||void 0===t||null===(n=t.kpMainPage)||void 0===n||null===(i=n.trailerPromo)||void 0===i?void 0:i.movie,[f,y]=R(null===u||void 0===u||null===(o=u.webPage)||void 0===o||null===(l=o.kpMainPage)||void 0===l?void 0:l.trailerPromo),k=(null===p||void 0===p?void 0:p.__typename)||"Film",b=(0,H.E)({movieType:k,folderName:z.Z.watchListFolderName}),_=(0,Y.g)({movie:{id:f.filmId,__typename:k},movieTitle:null===p||void 0===p?void 0:p.title,movieGenres:null===p||void 0===p?void 0:p.genres,isPlannedToWatch:y,onAddCompleted:b.bind(void 0,c.Y.Add),onRemoveCompleted:b.bind(void 0,c.Y.Remove)});return v?(0,T.jsx)(Z.s,{className:a}):m||!f.enabled?null:(0,T.jsx)(U,Q(Q({className:a,isPlannedToWatch:y,onToWatchButtonClick:_},f),s))},NotAuthorizedComponent:e=>{var t,n;let{className:o,onAddFilmToWatch:l}=e,a=(0,d.Z)(e,q);const{data:r,error:s,loading:c}=(0,V.Y)(),[u]=R(null===r||void 0===r||null===(t=r.webPage)||void 0===t||null===(n=t.kpMainPage)||void 0===n?void 0:n.trailerPromo),m=(0,$.f0)(),v=(0,i.useCallback)((()=>{m(),l&&l()}),[m,l]);return c?(0,T.jsx)(Z.s,{className:o}):s||!u.enabled?null:(0,T.jsx)(U,X(X({className:o,isPlannedToWatch:!1,onToWatchButtonClick:v},u),a))}}),te=(0,o.XM)(A.TQ)((({className:e})=>{const{setElementRef:t}=(0,l.F)(),n=(0,a.U)("logo"),i=(0,a.U)("film-to-watch"),o=(0,a.U)("watch-online"),r=(0,a.U)("tickets");return(0,T.jsx)(ee,{className:e,setElementRef:t,onLogoClick:n,onAddFilmToWatch:i,onWatchOnlineClick:o,onTicketsCinemaClick:r})}))},41806:function(e,t,n){"use strict";n.d(t,{g:function(){return C}});var i=n(53628),o=n(37667),l=n(72095),a=n(99980),r=n(60738),s=n(72310),d=n(62442),c=n(47762);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v=({cache:e,movie:t,mutationStatus:n,operation:i,folder:o})=>{e.modify({id:e.identify(m({},t)),fields:{userData(e){var a;if("SUCCESS"!==n)return e;if(null===o||void 0===o||!o.name)return e;let r=null;return i===l.Y.Add&&(r=(0,d.C)({userData:{userData:e},folder:o,typeName:t.__typename})),i===l.Y.Remove&&(r=(0,c.Z)({userData:{userData:e},folder:o,typeName:t.__typename})),m({},null===(a=r)||void 0===a?void 0:a.userData)}}})};var p=n(92430),f=n(5099),y=n.n(f);const k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieAddFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMovie"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var b=n(21175),_=n(35519);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N({movie:e,folder:t,mutationUpdater:n=y(),onCompleted:i=y()}){const[o]=function(e){return(0,p.useMutation)(k,{errorPolicy:"all",optimisticResponse:j({},b.E6),onCompleted:e})}(i);return(0,_.h)((()=>{t&&o({variables:{movieId:e.id,folderId:t.id},update(i,o){var a,r,s;n({cache:i,movie:e,mutationStatus:null===(a=o.data)||void 0===a||null===(r=a.folder)||void 0===r||null===(s=r.addMovie)||void 0===s?void 0:s.status,operation:l.Y.Add,folder:t})}})}),[e,t])}const O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveFolder"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"folder"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"removeMovie"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P({movie:e,folder:t,mutationUpdater:n=y(),onCompleted:i=y()}){const[o]=function(e){return(0,p.useMutation)(O,{errorPolicy:"all",optimisticResponse:S({},b.Jm),onCompleted:e})}(i);return(0,_.h)((()=>{t&&o({variables:{movieId:e.id,folderId:t.id},update(i,o){var a,r,s;n({cache:i,movie:e,mutationStatus:null===(a=o.data)||void 0===a||null===(r=a.folder)||void 0===r||null===(s=r.removeMovie)||void 0===s?void 0:s.status,operation:l.Y.Remove,folder:t})}})}),[e,t])}const C=({movie:e,movieTitle:t,movieGenres:n,isPlannedToWatch:s,onAddCompleted:d,onRemoveCompleted:c})=>{const u=(0,i.useSelector)((e=>(0,a.S)(e,{entityId:l.G.WatchList}))),m=(0,i.useDispatch)(),p=(({movie:e,folder:t,isAddedToFolder:n,onAddCompleted:i,onRemoveCompleted:o})=>{const l=N({movie:e,folder:t,mutationUpdater:v,onCompleted:i}),a=P({movie:e,folder:t,mutationUpdater:v,onCompleted:o});return n?a:l})({movie:e,folder:u,isAddedToFolder:s,onAddCompleted:d,onRemoveCompleted:c});return(0,o.useCallback)((()=>{m((0,r.I)({movieTitle:t,movieGenres:n,operation:s?l.Y.Remove:l.Y.Add})),p()}),[p,t,n,s,m])}},83507:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var i=n(72095);const o=e=>e.some((e=>(null===e||void 0===e?void 0:e.id)===i.G.WatchList))},98759:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var i=n(53628),o=n(93802),l=n(39950),a=n(57747);function r({movieType:e,folderName:t}){const n=(0,i.useDispatch)();return function(i){const r=(0,a.G)({operation:i,folderName:t,movieType:o.MovieTypes[e]})||"";n((0,l.X)({text:r}))}}},94565:function(e){e.exports={root:"styles_root__LNqvp",link:"styles_link__9lDAP",title:"styles_title__KyVeD",trailer:"styles_trailer__1QCEz",gradient:"styles_gradient__ISVPJ",content:"styles_content__AKZ_1",caption:"styles_caption__L5PZj",ratings:"styles_ratings__unxQe",logoWrapper:"styles_logoWrapper__t4ukW",logo:"styles_logo__WEZM4",cast:"styles_cast__9M4B9",ticketsButton:"styles_ticketsButton__DUeoA",nameplateItem:"styles_nameplateItem__VmO7P",video:"styles_video__PlN7l",player:"styles_player__MZuMA",rootSmall:"styles_rootSmall__jwTt2",trailerSmall:"styles_trailerSmall__Ijwc6",contentSmall:"styles_contentSmall__6L2ij",ticketsButtonSmall:"styles_ticketsButtonSmall__t3X7v",castSmall:"styles_castSmall__JpEtH",titleSmall:"styles_titleSmall__3sZIH"}},85223:function(e){e.exports={root:"styles_root__jgTf2",icon:"styles_icon__T1MRW",iconLarge:"styles_iconLarge__eLR9t",textLarge:"styles_textLarge__ew6wc"}},49104:function(e){e.exports={root:"styles_root__RHton",video:"styles_video__eDSWL",previewUrl:"styles_previewUrl__gwCGN",previewUrlIsReady:"styles_previewUrlIsReady__vsaKB"}},89271:function(e){e.exports={root:"style_root__BmiQ7",icon:"style_icon__QLJtP",isActive:"style_isActive__oJSuo",iconLight:"style_iconLight__o7Xai",iconDark:"style_iconDark__fxZF9",button:"style_button__wAx5Z"}},50874:function(e){e.exports={root:"styles_root__BuqW2",customButton:"styles_customButton__tmhKI",ticketsButton:"styles_ticketsButton__NS_CV"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/8908.aa5b1624404644cf.js.map
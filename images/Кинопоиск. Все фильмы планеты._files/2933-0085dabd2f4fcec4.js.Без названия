(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2933],{54258:function(e,t,n){"use strict";n.d(t,{Di:function(){return i.Di},sG:function(){return i.sG},Db:function(){return i.Db},V8:function(){return i.V8},Qk:function(){return i.Qk}});var i=n(2637)},2637:function(e,t,n){"use strict";n.d(t,{Di:function(){return v},Dx:function(){return y.D},sG:function(){return h},jx:function(){return g},wb:function(){return b},Db:function(){return l.Db},Rx:function(){return c},V8:function(){return i.V},IP:function(){return u},Qk:function(){return N},P3:function(){return a}});var i=n(55286),o=n(67034),r=n(37886);const a=({votedAt:e})=>e?o.utc(e).utcOffset(r.W).format("DD.MM.YYYY HH:mm"):"";var l=n(46161),s=n(98506);const c=({value:e,ratingType:t,fractionDigits:n})=>{switch(t){case s.bH.Kinopoisk:case s.bH.Imdb:return(0,l.Db)({value:e,fractionDigits:n});default:return(0,l.rb)({value:e})}},u=({value:e,ratingType:t,top250Position:n})=>{switch(t){case s.bH.Kinopoisk:return n?s.EI.KpTop:(0,i.V)({value:e});case s.bH.Imdb:return(0,i.V)({value:e});default:return(0,i.n)({value:e})}},d=new Intl.NumberFormat("en-US",{maximumFractionDigits:0}),m=e=>d.format(e).replace(","," "),v=({count:e,maxDigits:t=3})=>e.toString().length<=t?m(e):`${m(e/1e3)}K`;var k=n(50596),p=n(67236);const h=(e,t,n)=>{if(t.value)return n===s.bH.Kinopoisk?k._.getUrl(p.f.VotesPage,{id:e}):void 0};var f=n(46714);const b=({type:e})=>f.he[e];var y=n(68239),_=n(41097);const S={[s.bH.Imdb]:_.z.imdb,[s.bH.WorldwideCritics]:_.z.rottenTomatos,[s.bH.RussianCritics]:_.z.russianCritics,[s.bH.Expectation]:_.z.expectationRatingBlockTitle,[s.bH.ReviewCount]:_.z.positiveReview},g=e=>e?S[e]:void 0;var O=n(18579);const N=({mainRating:e,rating:t,positiveReviewPercent:n,positiveReviewTotal:i})=>{const o=[],r=t[s.bH.Imdb];r&&(0,O.W)(r)&&o.push({type:s.bH.Imdb,value:r.value,count:r.count});const a=t[s.bH.WorldwideCritics];a&&(0,O.W)(a)&&a.value&&o.push({type:s.bH.WorldwideCritics,value:a.percent,count:a.count});const l=t[s.bH.Expectation];(null===e||void 0===e?void 0:e.type)!==s.bH.Expectation&&l&&(0,O.W)(l)&&o.push({type:s.bH.Expectation,value:l.value,count:l.count});const c=t[s.bH.ReviewCount];n&&null!==c&&void 0!==c&&c.count&&(0,O.W)(c)&&o.push({type:s.bH.ReviewCount,value:n,count:i||null});const u=t[s.bH.RussianCritics];return u&&(0,O.W)(u)&&o.push({type:s.bH.RussianCritics,value:u.value,count:u.count}),o}},68239:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var i=n(94510),o=n.n(i),r=n(98506),a=n(6694),l=n(41097);const s=(e,t)=>{const n=(0,a.u)(e);switch(t){case r.bH.Kinopoisk:return`${n} ${o()(e,l.z.kinopoiskReviewsCountPlurals[0],l.z.kinopoiskReviewsCountPlurals[1],l.z.kinopoiskReviewsCountPlurals[2])}`;case r.bH.Expectation:return`${n} ${o()(e,l.z.expectationReviewCountPlurals[0],l.z.expectationReviewCountPlurals[1])}`;default:return}}},18579:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});const i=e=>Boolean(e&&e.isActive)},62775:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var i=n(89145);function o(e){return e===i.v.TvSeries||e===i.v.MiniSeries||e===i.v.TvShow}},15049:function(e,t,n){"use strict";n.d(t,{X:function(){return i.X}});var i=n(65031)},28398:function(e,t,n){"use strict";n.d(t,{d:function(){return p}});var i=n(37667),o=n.n(i),r=n(78273),a=n.n(r),l=n(5099),s=n.n(l),c=n(33007),u=n(51787),d=n(69040),m=n.n(d),v=n(83605);const k=({title:e,items:t,selectedValues:n,className:i,colorScheme:o=c.ElementColorSchemes.Light,onItemChecked:r=s(),onItemUnchecked:l=s(),beforeDropdownSlot:d,afterDropdownSlot:k,viewVariant:p},h)=>(0,v.jsxs)("div",{ref:h,className:a()(i,m().root,{[m().rootDark]:o===c.ElementColorSchemes.Dark,[m().rootLight]:o===c.ElementColorSchemes.Light}),"data-tid":"aee6a79a",children:[d,e&&(0,v.jsx)("h3",{className:m().title,children:e}),(0,v.jsx)("div",{className:a()(m().itemWrapper,{[m().itemWrapperDark]:o===c.ElementColorSchemes.Dark,[m().itemWrapperLight]:o===c.ElementColorSchemes.Light}),children:t.map((({title:e,value:t,link:i})=>(0,v.jsx)(u.g,{isActive:n.includes(t),title:e,link:i,value:t,colorScheme:o,onChecked:r,onUnchecked:l,viewVariant:p},t)))}),k&&(0,v.jsx)("div",{className:m().afterSlot,children:k})]}),p=o().forwardRef(k)},51787:function(e,t,n){"use strict";n.d(t,{g:function(){return k}});var i=n(37667),o=n.n(i),r=n(78273),a=n.n(r),l=n(5099),s=n.n(l),c=n(33007),u=n(30099),d=n(84006),m=n.n(d),v=n(83605);const k=({title:e,isActive:t,link:n,value:i,onChecked:r=s(),onUnchecked:l=s(),colorScheme:d=c.ElementColorSchemes.Light,viewVariant:k})=>{const p=o().useCallback((e=>{e.target.checked?r({value:i}):l({value:i})}),[i,r,d]);return(0,v.jsxs)("div",{className:a()(m().root,{[m().rootLight]:d===c.ElementColorSchemes.Light,[m().rootDark]:d===c.ElementColorSchemes.Dark}),"data-tid":"73d68233",children:[(0,v.jsxs)("label",{className:a()(m().item,m().checkboxLabel),children:[(0,v.jsx)("input",{type:"checkbox",className:m().checkbox,checked:t,onChange:p}),(0,v.jsx)("span",{className:a()(m().title,{[m().titleRightVariant]:"right"===k}),children:(0,v.jsx)("span",{className:a()(m().name,{[m().nameRightVariant]:"right"===k}),children:e})})]}),n&&(0,v.jsx)("a",{href:n,className:m().link,children:u.F.folderLinkAADescription})]})}},65031:function(e,t,n){"use strict";n.d(t,{X:function(){return v}});var i=n(37667),o=n.n(i),r=n(78273),a=n.n(r),l=n(5099),s=n.n(l),c=n(33007),u=n(67337),d=n.n(u),m=n(83605);const v=({className:e,title:t,isActive:n,value:i,onChecked:r=s(),onUnchecked:l=s(),colorScheme:u=c.ElementColorSchemes.Light,viewVariant:v="default"})=>{const k=o().useCallback((e=>{e.target.checked?r({value:i}):l({value:i})}),[i,r,u]);return(0,m.jsxs)("label",{className:a()(e,d().root,{[d().rootLight]:u===c.ElementColorSchemes.Light,[d().rootDark]:u===c.ElementColorSchemes.Dark,[d().rootFlatReverse]:"flat-reverse"===v}),"data-tid":"68e7193",children:[(0,m.jsx)("input",{type:"checkbox",className:d().checkbox,checked:n,onChange:k}),(0,m.jsx)("span",{className:d().title,children:t})]})}},18873:function(e,t,n){"use strict";n.d(t,{Pz:function(){return v},K8:function(){return u},nj:function(){return c}});var i=n(5099),o=n.n(i),r=n(78273),a=n.n(r),l=n(88842),s=n.n(l);let c,u;!function(e){e.Orange="orange",e.Gray="gray",e.White="white",e.Green="green",e.Red="red"}(c||(c={})),function(e){e.All="all",e.OnlyLeft="onlyLeft",e.OnlyRight="onlyRight"}(u||(u={}));const d={[c.Orange]:s().touchVoteButtonOrange,[c.Gray]:s().touchVoteButtonGray,[c.White]:s().touchVoteButtonWhite,[c.Green]:s().touchVoteButtonGreen,[c.Red]:s().touchVoteButtonRed};var m=n(83605);const v=({content:e,onClick:t=o(),colorScheme:n=c.Orange,borderStyle:i=u.All,className:r,iconClassName:l})=>{const v=d[n];return(0,m.jsx)("button",{onClick:t,type:"button",className:a()(s().touchVoteButton,r,v,{[s().touchVoteButtonBorderOnlyLeft]:i===u.OnlyLeft,[s().touchVoteButtonBorderOnlyRight]:i===u.OnlyRight}),"data-tid":"e4cdf113",children:(0,m.jsx)("span",{className:l,children:e})})}},55926:function(e,t,n){"use strict";var i=n(20834);n.o(i,"FoldersMenu")&&n.d(t,{FoldersMenu:function(){return i.FoldersMenu}}),n.o(i,"TouchFolders")&&n.d(t,{TouchFolders:function(){return i.TouchFolders}}),n.o(i,"useFolderMenuColorScheme")&&n.d(t,{useFolderMenuColorScheme:function(){return i.useFolderMenuColorScheme}}),n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}})},20834:function(e,t,n){"use strict";n.d(t,{FoldersMenu:function(){return i.FoldersMenu},TouchFolders:function(){return i.TouchFolders},useFolderMenuColorScheme:function(){return i.useFolderMenuColorScheme}});var i=n(47394);n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}});var o=n(19195);n.o(o,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return o.useUserFoldersColorScheme}})},7090:function(){},19195:function(e,t,n){"use strict";var i=n(7090);n.o(i,"useUserFoldersColorScheme")&&n.d(t,{useUserFoldersColorScheme:function(){return i.useUserFoldersColorScheme}})},35933:function(e,t,n){"use strict";n.d(t,{Lt:function(){return w},ck:function(){return S}});var i=n(37667),o=n.n(i),r=n(78273),a=n.n(r),l=n(5099),s=n.n(l),c=n(94510),u=n.n(c),d=n(70112),m=n(28398),v=n(36007),k=n(68322),p=n(88249),h=n(51256);const f="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043f\u0430\u043f\u043a\u0443",b="\u043f\u0430\u043f\u043a\u0435",y="\u043f\u0430\u043f\u043a\u0430\u0445";var _=n(43617);const S=()=>(0,_.tv)()===v.BlocksColorSchemes.Dark?v.ElementColorSchemes.Dark:v.ElementColorSchemes.Light;const g=[],O=[];var N=n(21765),F=n.n(N),j=n(83605);const D={[v.ElementColorSchemes.Dark]:k.u.Dark,[v.ElementColorSchemes.Light]:k.u.Light},w=({className:e,dropdownMenuClassName:t,buttonClassName:n,colorScheme:i=v.ElementColorSchemes.Light,folders:r=g,selectedFoldersIds:l=O,tooltipText:c="",onDropdownButtonClick:k=s(),onFolderSelect:_=s(),onFolderUnselect:S=s(),setElementRef:N,beforeDropdownSlot:w,afterDropdownSlot:C,dropdownButtonElement:P,viewVariant:V})=>{const{isOpen:I,openerRef:x,elementRef:L,handleToggle:R}=(0,d.xN)(),E=o().useMemo((()=>r.filter((e=>Boolean(e.name))).map((e=>({title:e.name,value:e.id,link:e.link})))),[r]),B=(0,d.rK)([R,k]),{handleItemChecked:T,handleItemUnchecked:U}=(({onFolderSelect:e,onFolderUnselect:t})=>({handleItemChecked:o().useCallback((({value:t})=>{e({folderId:t})}),[e]),handleItemUnchecked:o().useCallback((({value:e})=>{t({folderId:e})}),[e])}))({onFolderSelect:_,onFolderUnselect:S}),M=l.length>0,W=o().useMemo((()=>l.length?`\u0412 ${l.length} ${u()(l.length,b,y)}`:f),[l.length]);return(0,j.jsxs)("div",{ref:N,className:a()(e,F().root),"data-tid":"4a36b453",children:[!P&&(0,j.jsx)(p.z,{type:"button",buttonType:h.L.Primary,colorScheme:D[i],onClick:B,title:f,"aria-label":f,ref:x,isFullWidth:!0,size:h.q.size48,iconLeft:(0,j.jsx)("span",{className:a()(F().icon,{[F().iconLight]:i===v.ElementColorSchemes.Light,[F().iconDark]:i===v.ElementColorSchemes.Dark,[F().iconActive]:M})}),children:W}),P&&(0,j.jsx)(P,{ref:x,onClick:B,className:n}),Boolean(E.length)&&I&&(0,j.jsx)(m.d,{ref:L,colorScheme:i,className:a()(F().dropdownMenu,t),title:c,items:E,selectedValues:l,onItemChecked:T,onItemUnchecked:U,beforeDropdownSlot:w,afterDropdownSlot:C,viewVariant:V})]})}},47394:function(e,t,n){"use strict";n.d(t,{FoldersMenu:function(){return i.Lt},useFolderMenuColorScheme:function(){return i.ck},useUserFoldersColorScheme:function(){return o.useUserFoldersColorScheme},TouchFolders:function(){return r.V}});var i=n(35933),o=n(42249);n.o(o,"TouchFolders")&&n.d(t,{TouchFolders:function(){return o.TouchFolders}});var r=n(70165);n(3712)},3712:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});var i=n(15049),o=n(83605);const r=({id:e,title:t,isActive:n,onChecked:r,onUnchecked:a})=>(0,o.jsx)("div",{"data-tid":"744a0afe",children:(0,o.jsx)(i.X,{viewVariant:"flat-reverse",isActive:n,title:t,value:e,onChecked:({value:e})=>r(e),onUnchecked:({value:e})=>a(e)})})},70165:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(3712),o=n(83605);const r=({folders:e,selectedFoldersIds:t,onSelectFolder:n,onUnselectFolder:r})=>(0,o.jsx)("div",{"data-tid":"d1bd06f3",children:e.map((({name:e,id:a})=>(0,o.jsx)(i.K,{id:a,isActive:t.includes(a),title:e,onChecked:n,onUnchecked:r},a)))})},16034:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var i=n(68322),o=n(43617),r=n(36007);const a=()=>(0,o.tv)()===r.BlocksColorSchemes.Dark?i.u.Dark:i.u.Light},42249:function(e,t,n){"use strict";n.d(t,{useUserFoldersColorScheme:function(){return i.g}});n(62388);var i=n(16034),o=n(63849);n.o(o,"TouchFolders")&&n.d(t,{TouchFolders:function(){return o.TouchFolders}})},63849:function(e,t,n){"use strict";var i=n(63386);n.o(i,"TouchFolders")&&n.d(t,{TouchFolders:function(){return i.TouchFolders}})},63386:function(){},62388:function(e,t,n){"use strict";n(78273);var i=n(36007),o=n(86159),r=n.n(o);n(83605);i.ElementColorSchemes.Dark,r().linkDark,i.ElementColorSchemes.Light,r().linkLight,i.ElementColorSchemes.Dark,r().rootDark,i.ElementColorSchemes.Light,r().rootLight},60129:function(e,t,n){"use strict";n.d(t,{H:function(){return S}});var i=n(53628),o=n(62775),r=n(39950),a=n(87574),l=n(36423),s=n(35519),c=n(72310),u=n(92430),d=n(5099),m=n.n(d),v=n(21175);const k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveNotInterested"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notInterested"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetNotInterested"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notInterested"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=({movieId:e,isNotInterested:t,mutationUpdater:n,onSetCompleted:i,onRemoveCompleted:o})=>{const[r]=function({movieId:e,mutationUpdater:t=m(),onCompleted:n=m()}){return(0,u.useMutation)(f,{variables:{movieId:e},update(e,n){var i,o,r,a;t(e,null===(i=n.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.notInterested)||void 0===r||null===(a=r.set)||void 0===a?void 0:a.status,{notInterested:{__typename:"WatchStatus_Boolean",value:!0}})},optimisticResponse:y({},v.lO),errorPolicy:"all",onCompleted:n})}({movieId:e,mutationUpdater:n,onCompleted:i}),[a]=function({movieId:e,mutationUpdater:t=m(),onCompleted:n=m()}){return(0,u.useMutation)(k,{variables:{movieId:e},update(e,n){var i,o,r,a;t(e,null===(i=n.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.notInterested)||void 0===r||null===(a=r.remove)||void 0===a?void 0:a.status,{notInterested:{__typename:"WatchStatus_Boolean",value:!1}})},optimisticResponse:h({},v.jO),errorPolicy:"all",onCompleted:n})}({movieId:e,mutationUpdater:n,onCompleted:o}),l=(0,s.h)(r,[]),c=(0,s.h)(a,[]);return[t,t?c:l]},S=(e,t=!0)=>{var n,s,c;const u=(0,i.useDispatch)(),d=(0,o.R)(e.__typename)?a.Z.setNotInterestedTvSeries:a.Z.setNotInterestedFilm;return _({movieId:e.id,isNotInterested:Boolean(null===(n=e.userData)||void 0===n||null===(s=n.watchStatuses)||void 0===s||null===(c=s.notInterested)||void 0===c?void 0:c.value),mutationUpdater:(0,l.b)(e),onSetCompleted:t?()=>u((0,r.X)({text:d})):void 0})}},14477:function(e,t,n){"use strict";n.d(t,{J:function(){return _}});var i=n(35519),o=n(72310),r=n(38467);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const s=(e,t,n,i,o)=>{t&&e.modify({id:(0,r.u)(n)({id:t}),fields:{userData:e=>"SUCCESS"!==i?e:l(l({},e),{},{voting:l(l({},e.voting),{},{value:o,votedAt:null})})}})};var c=n(92430),u=n(21175);const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rate"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}},{kind:"ObjectField",name:{kind:"Name",value:"rate"},value:{kind:"Variable",name:{kind:"Name",value:"rate"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var m=n(13154);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const p=(e,t)=>{const[n]=function(){const e=(0,m.G)();return(0,c.useMutation)(d,{context:{headers:{[u.ur]:e}},optimisticResponse:k({},u.lT),errorPolicy:"all"})}();return(0,i.h)((i=>{e&&t&&n({variables:{movieId:e,rate:i},update(n,o){var r,a,l,c;s(n,e,t,null===(r=o.data)||void 0===r||null===(a=r.movie)||void 0===a||null===(l=a.vote)||void 0===l||null===(c=l.set)||void 0===c?void 0:c.status,i)}})}),[e])},h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveVote"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"vote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const y=(e,t)=>{const[n]=function(){const e=(0,m.G)();return(0,c.useMutation)(h,{context:{headers:{[u.ur]:e}},optimisticResponse:b({},u.pj),errorPolicy:"all"})}();return(0,i.h)((()=>{e&&t&&n({variables:{movieId:e},update(n,i){var o,r,a,l;s(n,e,t,null===(o=i.data)||void 0===o||null===(r=o.movie)||void 0===r||null===(a=r.vote)||void 0===a||null===(l=a.remove)||void 0===l?void 0:l.status,null)}})}),[e])},_=(e,t)=>[p(e,t),y(e,t)]},94937:function(e,t,n){"use strict";n.d(t,{X:function(){return h}});var i=n(35519),o=n(72310),r=n(92430),a=n(5099),l=n.n(a),s=n(21175);const c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieRemoveWatched"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watched"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};var u=n(13154);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"MovieSetWatched"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"movieId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Long"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"movie"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watched"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"set"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"movieId"},value:{kind:"Variable",name:{kind:"Name",value:"movieId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]};function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const h=(e,t,n,o)=>{const[a]=function({movieId:e,mutationUpdater:t=l(),refetchQueries:n}){const i=(0,u.G)();return(0,r.useMutation)(v,{variables:{movieId:e},context:{headers:{[s.ur]:i}},update(e,n){var i,o,r,a;t(e,null===(i=n.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.watched)||void 0===r||null===(a=r.set)||void 0===a?void 0:a.status,{watched:{__typename:"WatchStatus_Boolean",value:!0}})},refetchQueries:n,optimisticResponse:p({},s.br),errorPolicy:"all"})}({movieId:e,mutationUpdater:n,refetchQueries:o}),[d]=function({movieId:e,mutationUpdater:t=l(),refetchQueries:n}){const i=(0,u.G)();return(0,r.useMutation)(c,{variables:{movieId:e},context:{headers:{[s.ur]:i}},update(e,n){var i,o,r,a;t(e,null===(i=n.data)||void 0===i||null===(o=i.movie)||void 0===o||null===(r=o.watched)||void 0===r||null===(a=r.remove)||void 0===a?void 0:a.status,{watched:{__typename:"WatchStatus_Boolean",value:!1}})},refetchQueries:n,optimisticResponse:m({},s.iH),errorPolicy:"all"})}({movieId:e,mutationUpdater:n,refetchQueries:o}),k=(0,i.h)(a,[]),h=(0,i.h)(d,[]);return[t,t?h:k]}},13154:function(e,t,n){"use strict";n.d(t,{G:function(){return r}});var i=n(21175),o=n(45538);const r=()=>(0,o.a)()?i.nm:i.Cn},17490:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var i=n(72095),o=n(14250);const r=(e,t,n,r)=>{const a=e===i.G.WatchList,l=t===i.Y.Remove&&r===o.iM.Yes,s=t===i.Y.Add&&r!==o.iM.Yes;return n&&a&&(l||s)}},36423:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var i=n(72310);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const a=e=>(t,n,i)=>((e,t,n,i)=>{e.modify({id:e.identify(t),fields:{userData:e=>"SUCCESS"!==n?e:r(r({},e),{},{watchStatuses:r(r({},e.watchStatuses),i)})}})})(t,e,n,i)},42866:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var i=n(89145),o=n(65296);function r(e){switch(e){case i.v.MiniSeries:case i.v.TvSeries:case i.v.TvShow:return o.C.TvSeries;case i.v.Film:case i.v.Video:default:return o.C.Film}}},83507:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var i=n(72095);const o=e=>e.some((e=>(null===e||void 0===e?void 0:e.id)===i.G.WatchList))},69040:function(e){e.exports={root:"styles_root__s6G6z",title:"styles_title__464iQ",itemWrapper:"styles_itemWrapper__gbOgm",itemWrapperLight:"styles_itemWrapperLight__BqMCR",itemWrapperDark:"styles_itemWrapperDark__OMYna",rootLight:"styles_rootLight__0Yhua",rootDark:"styles_rootDark__WKZA5",afterSlot:"styles_afterSlot__Az2ZX"}},84006:function(e){e.exports={root:"styles_root___EfwY",checkboxLabel:"styles_checkboxLabel___gN3_",checkbox:"styles_checkbox__rAcqd",title:"styles_title__mZ3iq",titleRightVariant:"styles_titleRightVariant__4NGVv",name:"styles_name__2PeJy",nameRightVariant:"styles_nameRightVariant__bsguv",rootLight:"styles_rootLight__GhYxn",link:"styles_link__MqFwj",rootDark:"styles_rootDark__1BdcM"}},67337:function(e){e.exports={root:"styles_root__R_6Vd",checkbox:"styles_checkbox__KthfQ",title:"styles_title__RILeC",rootLight:"styles_rootLight__jdGbE",rootDark:"styles_rootDark__sE7He",rootFlatReverse:"styles_rootFlatReverse__Bsm1g"}},88842:function(e){e.exports={touchVoteButton:"styles_touchVoteButton__4DpgI",touchVoteButtonOrange:"styles_touchVoteButtonOrange__7cAQr",touchVoteButtonGray:"styles_touchVoteButtonGray__6ZeA8",touchVoteButtonWhite:"styles_touchVoteButtonWhite__zPPhw",touchVoteButtonGreen:"styles_touchVoteButtonGreen__DPlve",touchVoteButtonRed:"styles_touchVoteButtonRed__ptMXD",touchVoteButtonBorderOnlyLeft:"styles_touchVoteButtonBorderOnlyLeft__TXLCR",touchVoteButtonBorderOnlyRight:"styles_touchVoteButtonBorderOnlyRight__dICR_"}},21765:function(e){e.exports={root:"styles_root__g0CT9",dropdownMenu:"styles_dropdownMenu__WmL72",listToWatchButton:"styles_listToWatchButton__N_ywG",dropdownButton:"styles_dropdownButton__VTP8Z",isActive:"styles_isActive__OlMfo",buttonLight:"styles_buttonLight__NVW98",buttonDark:"styles_buttonDark__Yc9nb",icon:"styles_icon__Hlkbg",iconLight:"styles_iconLight__85heB",iconDark:"styles_iconDark__iqdBV",iconActive:"styles_iconActive__AG7bj"}},86159:function(e){e.exports={root:"styles_root__dZcuU",rootLight:"styles_rootLight__C8Tx2 styles_root__dZcuU",rootDark:"styles_rootDark__DGVpw styles_root__dZcuU",link:"styles_link___yiZO",linkLight:"styles_linkLight__etoyZ",linkDark:"styles_linkDark__MhXy4",userFolders:"styles_userFolders__A0UEO",userFolder:"styles_userFolder__6Kr3n"}}}]);
//# sourceMappingURL=https://kinopoisk-frontend-internal.s3.mds.yandex.net/frontend-www/release/_next/static/chunks/2933-0085dabd2f4fcec4.js.map